<!DOCTYPE html>
<html>
    <link href="./favicon.ico" rel="icon">
    <head></head>
<body class="container">
  <form>
    <div id="upload">
      browser-image-compression@<span id="version">loading...</span>
      <select onchange="changeVersion(event)" style="display: none;">
        <option value="2.0.2">2.0.2</option>
        <option value="2.0.1">2.0.1</option>
        <option value="2.0.0">2.0.0</option>
        <option value="1.0.17">1.0.17</option>
        <option value="1.0.16">1.0.16</option>
        <option value="1.0.15">1.0.15</option>
        <option value="1.0.14">1.0.14</option>
        <option value="1.0.13">1.0.13</option>
        <option value="1.0.12">1.0.12</option>
      </select>
      <br />
      <div class="form-group">
        <label for="rootFolders">Root folder</label>
        <select onchange="changeFolder(event)" id="rootFolders" class="form-control"></select>
        <br />
      </div>
      <div class="form-group">
        <label for="maxSizeKB">maxSizeKB:</label>
        <input type="number" id="maxSizeKB" name="maxSizeKB" value="100" class="form-control" /><br />
      </div>
      <hr />
      <!-- <label for="maxWidthOrHeight">maxWidthOrHeight:
      <input type="number" id="maxWidthOrHeight" name="maxWidthOrHeight" value="1024" /></label>
    <hr /> -->
      <!-- <div>
    <label for="web-worker">
      Compress in web-worker <span id="web-worker-progress"></span>
      <input id="web-worker" type="file" accept="image/*" onchange="compressImage(event, true);" />
    </label>
    <p id="web-worker-log"></p>
  </div> -->
      <div class="form-group"> <label for="main-thread">
          <span id="main-thread-progress"></span>
          <input id="main-thread" type="file" multiple accept="image/*" onchange="compressImages(event, false);" class="form-control"/>
        </label>
      </div>

      <div class="form-group">
        <p id="main-thread-log" style="width: 50%; float: left; display: inline;"></p>
        <p id="upload-log" style="width: 50%; float: left"></p>
      </div>
      <div>
        <button onclick="abort()" class="form-control btn btn-warning">Abort</button>
      </div>
    </div>
  </form>
  <!-- <table>
      <tr>
        <td>input preview</td>
        <td>output preview</td>
      </tr>
      <tr>
        <td><img id="preview" /></td>
        <td><img id="preview-after-compress" /></td>
      </tr>
    </table> -->

  <style>
    #upload {
      display: none;
    }

    table,
    th,
    td {
      border: 1px solid black;
      border-collapse: collapse;
    }

    td {
      vertical-align: top;
      width: 50%;
    }

    img {
      max-width: 100%;
    }
  </style>

  <script src="https://bundle.run/buffer@6.0.3"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://unpkg.com/megajs@1/dist/main.browser-umd.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/core-js/3.21.1/minified.min.js"
    integrity="sha512-U2gvuX8NaNSc0MOOvd1CTMp/kuzhlJ8HJKWF4G8JAw66iH+1keU5Mrzzrnqktf1SphOCow6dy69sTdblJdI8mA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script type="text/javascript"
    src="https://cdn.jsdelivr.net/npm/browser-image-compression@latest/dist/browser-image-compression.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/exifr@7.1.3/dist/full.umd.min.js"></script>
  <script src="./basic.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>
</body>

</html>